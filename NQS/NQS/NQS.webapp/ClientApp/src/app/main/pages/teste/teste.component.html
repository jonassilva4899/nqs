<div class="page-layout blank p-24" fusePerfectScrollbar>
<form fxLayout="column" fxLayoutAlign="start" name="form"
    [formGroup]="pessoaForm">

    <div class="h2 mb-24">Cadastro de Pessoa</div>

    <div fxLayout="row" fxLayoutAlign="start center">
        <mat-form-field appearance="outline" fxFlex="100">
            <mat-label>Nome Completo</mat-label>
            <input matInput formControlName="nome" required>
            <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
            <mat-error>Campo Obrigatório!</mat-error>
        </mat-form-field>
    </div>

    <!-- <div fxLayout="row" fxLayoutAlign="start center">
        <mat-form-field appearance="outline" fxFlex="100">
            <mat-label>Teste Completo</mat-label>
            <input matInput formControlName="teste" required>
            <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
            <mat-error>Campo Obrigatório!</mat-error>
        </mat-form-field>
    </div> -->

    <div fxLayout="row" fxLayoutAlign="start center">
        <mat-form-field appearance="outline" fxFlex="auto">
            <mat-label>E-mail</mat-label>
            <input matInput formControlName="email" type="email" required>
            <mat-icon matSuffix class="secondary-text">mail</mat-icon>
            <mat-error>E-mail Obrigatório!</mat-error>
        </mat-form-field>
        <mat-slide-toggle
            fxFlex="auto"
            class="w-200 mr-24 mb-16 pl-12"
            (click)="desabilitaCampos()"
            formControlName="eContaGoogle"
        >
            Conta Google
        </mat-slide-toggle>
    </div>

    <div fxLayout="row" fxLayoutAlign="start center">
        <mat-form-field appearance="outline" fxFlex="100">
            <mat-label>Telefone</mat-label>
            <input matInput maxlength="14" formControlName="telefone" required name="telefone" [value]="valueOfInput"
                (input)="mascaraTelefone($event)">
            <mat-icon matSuffix class="secondary-text">phone</mat-icon>
            <mat-error>Campo Obrigatório!</mat-error>
        </mat-form-field>
    </div>

    <div fxLayout="row" fxLayoutAlign="start center">
        <mat-form-field appearance="outline" fxFlex="100">
            <mat-label>Função Principal</mat-label>
            <input matInput formControlName="funcaoPrincipal" required>
            <mat-icon matSuffix class="secondary-text">work</mat-icon>
            <mat-error>Campo Obrigatório!</mat-error>
        </mat-form-field>
    </div>

    <!-- <div fxLayout="row" fxLayoutAlign="start center">
        <mat-form-field appearance="outline" fxFlex="100">
            <mat-label *ngIf="isLoading.listaTimes">Carregando times...</mat-label>
            <mat-label *ngIf="!isLoading.listaTimes">Time</mat-label>
            <mat-select formControlName="idTime" required>
                <mat-option *ngIf="isLoading.listaTimes">Aguarde</mat-option>
                <mat-option *ngFor="let time of listaTimes" [value]="time.id">{{ time.nome }}</mat-option>
            </mat-select>
            <mat-error>Campo Obrigatório!</mat-error>
        </mat-form-field>
    </div> -->

    <!-- <div fxLayout="row" fxLayoutAlign="start center">
        <mat-form-field appearance="outline" fxFlex="100">
            <mat-label *ngIf="!isLoading.permissoes">Nível de Usuário</mat-label>
            <mat-select formControlName="nivelPermissao" required>
                <mat-option *ngIf="isLoading.permissoes">Aguarde</mat-option>
                <mat-option *ngFor="let permissao of listaPermissoes" [value]="permissao.nivelPermissao">
                    {{ permissao.descricao }}</mat-option>
            </mat-select>
            <mat-error>Campo Obrigatório!</mat-error>
        </mat-form-field>
    </div> -->

    <div class="pb-32" fxLayout="row">
        <mat-slide-toggle formControlName="eUsuario" class="mr-24 pl-12">
            É usuário da plataforma
        </mat-slide-toggle>
    </div>

    <div fxLayout="row">
        <mat-slide-toggle formControlName="status" class="mr-24 pl-12">
            Ativo
        </mat-slide-toggle>
    </div>

    <app-upload-imagem
        *ngIf="!contaGoogle"
        ([imageUrl])="imageUrl"
        (respostaImagemBase64)="receberImagemBase64($event)"
    ></app-upload-imagem>

    <div fxLayout="row" fxLayoutAlign="center center">
        <button mat-raised-button class="w-100" color="primary" (click)="OnSubmit()" type="button" [disabled]="isLoading.salvar">
            Adicionar
            <mat-progress-bar *ngIf="isLoading.salvar" mode="indeterminate"></mat-progress-bar>
        </button>
    </div>
</form>
</div>